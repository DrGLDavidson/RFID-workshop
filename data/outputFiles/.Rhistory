#choose the appropriate working directory
setwd("F:/RWorkspace/GitHub/RFID-workshop/data/outputFiles")
#call your most recent dataset
df<-read.delim("Masterdf_noRepeats.txt", header=TRUE)
length(unique(df))
View(df)
length(unique(df$TagID_hex))
#create a random vector of data to indicate which feeder opens for a given bird. Draw 44 samples from the integers 1:3 with replacement (i.e. each number can be redrawn)
assignedFeeder<-sample(x = 1:3, size = 44, replace = TRUE)
df<-cbind(df, assignedFeeder)
#unique birds in df
TagID_hex<-unique(df$TagID_hex)
df2<-cbind(TagID_hex, assignedFeeder)
df2<-as.data.frame(df2)
View(df2)
df3 <- df2 %>%
mutate(category = recode(assignedFeeder,
"1" = "F01",
"2" = "F02",
"3" = "F03"))
library(dplyr)
df3 <- df2 %>%
mutate(category = recode(assignedFeeder,
"1" = "F01",
"2" = "F02",
"3" = "F03"))
View(df3)
df3 <- df2 %>%
mutate(assignedFeeder = recode(assignedFeeder,
"1" = "F01",
"2" = "F02",
"3" = "F03"))
View(df3)
df4 <- merge(df, df3, by = "TagID_hex", all = TRUE)
View(df4)
correctVisit <- c()
for (i in 1:nrow(df4)) {
correctVisit[i] <- identical(df4$feeder[i], RL2set1.2$assignedFeeder[i])
}
correctVisit <- c()
for (i in 1:nrow(df4)) {
correctVisit[i] <- identical(df4$feeder[i], df4$assignedFeeder[i])
}
df5<df4
df5<-df4
correctVisit <- c()
for (i in 1:nrow(df5)) {
correctVisit[i] <- identical(df5$feeder[i], df5$assignedFeeder[i])
}
df5$correctVisit <- correctVisit
View(df5)
df5 <- df4 %>%
mutate(correctVisitBinary = recode(correctVisit,
"TRUE" = "1",
"FALSE" = "0"))
View(df4)
View(df4)
View(df5)
View(df4)
correctVisit <- c()
for (i in 1:nrow(df4)) {
correctVisit[i] <- identical(df4$feeder[i], df4$assignedFeeder[i])
}
df4$correctVisit <- correctVisit
df5 <- df4 %>%
mutate(correctVisitBinary = recode(correctVisit,
"TRUE" = "1",
"FALSE" = "0"))
View(df4)
df4$correctVisit<-as.character(df4$correctVisit)
class(df4$correctVisit)
df5 <- df4 %>%
mutate(correctVisitBinary = recode(correctVisit,
"TRUE" = "1",
"FALSE" = "0"))
View(df5)
write.table(df5, file = "Masterdf_correctVisits.txt",sep="\t",row.names=FALSE)
